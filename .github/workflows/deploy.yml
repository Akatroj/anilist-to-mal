name: Deploy
on:
  push:
    branches: [test]
jobs:
  deploy:
    permissions: write-all
    runs-on: "ubuntu-latest"
    steps:
      - name: Checkout
        uses: actions/checkout@v2.4.2
      - name: Install
        run: npm install --force
      - name: Build
        run: npm run build
      - name: Deploy
        uses: EndBug/add-and-commit@v9
        with:
          remove: '*'
          add: '-f ./dist'
          # Arguments for the git fetch command. If set to false, the action won't fetch the repo.
          # For more info as to why fetching is usually recommended, please see the "Performance on large repos" FAQ. 
          # Default: --tags --force
          # fetch: false
          new_branch: deploy



        


